{"version":3,"sources":["webpack:///./src/views/User/Products.vue?3934","webpack:///src/views/User/Products.vue","webpack:///./src/views/User/Products.vue?7088","webpack:///./src/views/User/Products.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","isLoading","on","$event","staticClass","directives","name","rawName","value","expression","modifiers","domProps","type","indexOf","_k","keyCode","key","searchProducts","target","composing","keyPoint","trim","$forceUpdate","class","category","preventDefault","changeCategory","_v","_l","item","index","_s","products","filterProducts","length","_e","id","path","style","backgroundImage","title","price","origin_price","_f","addMyFavorite","isLike","addtoCart","staticRenderFns","categoryItem","search","methods","$store","dispatch","vm","console","log","computed","filter","match","forEach","push","arr","state","myFavorite","getProducts","getCart","$bus","$on","component"],"mappings":"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","file":"js/chunk-2d0d9f94.f0baba70.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('loading',{attrs:{\"active\":_vm.isLoading},on:{\"update:active\":function($event){_vm.isLoading=$event}}}),_c('div',{staticClass:\"container my-5\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-3\"},[_c('div',{staticClass:\"input-group mb-3\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.keyPoint),expression:\"keyPoint\",modifiers:{\"trim\":true}}],staticClass:\"form-control btn-round\",attrs:{\"type\":\"text\",\"placeholder\":\"搜尋商品\"},domProps:{\"value\":(_vm.keyPoint)},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.searchProducts($event)},\"input\":function($event){if($event.target.composing){ return; }_vm.keyPoint=$event.target.value.trim()},\"blur\":function($event){return _vm.$forceUpdate()}}}),_c('div',{staticClass:\"input-group-append\"},[_c('button',{staticClass:\"btn btn-primary btn-round\",on:{\"click\":_vm.searchProducts}},[_c('i',{staticClass:\"fas fa-search\"})])])]),_c('ul',{staticClass:\"ul-category\"},[_c('li',[_c('a',{staticClass:\"h5\",class:{'active':_vm.category==='All'},on:{\"click\":function($event){$event.preventDefault();return _vm.changeCategory('All')}}},[_vm._v(\"全部商品\")])]),_vm._l((_vm.filterCategory),function(item,index){return _c('li',{key:index},[_c('a',{staticClass:\"h5\",class:{'active':_vm.category===item},on:{\"click\":function($event){$event.preventDefault();return _vm.changeCategory(item)}}},[_vm._v(_vm._s(item))])])})],2)]),_c('div',{staticClass:\"col-md-9 mt-4 mt-md-0\"},[(_vm.products.length)?_c('div',[(_vm.filterProducts.length===0)?_c('div',{staticClass:\"text-center h2\"},[_vm._v(\"目前無此商品\")]):_vm._e()]):_vm._e(),_c('div',{staticClass:\"row\"},_vm._l((_vm.filterProducts),function(item){return _c('div',{key:item.id,staticClass:\"col-md-6 col-lg-4 mb-4\",attrs:{\"data-aos\":\"fade-up\"}},[_c('div',{staticClass:\"card shadow-sm card-round\"},[_c('router-link',{staticClass:\"pic\",attrs:{\"to\":{path : (\"/product/\" + (item.id)) }}},[_c('div',{staticClass:\"pic-enlarge\",style:({backgroundImage :(\"url(\" + (item.image) + \")\")})})]),_c('router-link',{staticClass:\"card-body text-decoration-none\",attrs:{\"to\":{path : (\"/product/\" + (item.id)) }}},[_c('h5',{staticClass:\"card-title text-dark\"},[_vm._v(_vm._s(item.title))]),_c('div',{staticClass:\"d-flex justify-content-between align-items-baseline\"},[(item.price===item.origin_price)?_c('div',{staticClass:\"h4 text-dark\"},[_vm._v(_vm._s(_vm._f(\"currency\")(item.origin_price)))]):_vm._e(),(item.price!=item.origin_price)?_c('del',{staticClass:\"h6 text-secondary\"},[_vm._v(_vm._s(_vm._f(\"currency\")(item.origin_price)))]):_vm._e(),(item.price!=item.origin_price)?_c('div',{staticClass:\"h4 text-danger\"},[_vm._v(_vm._s(_vm._f(\"currency\")(item.price)))]):_vm._e()]),_c('div',{staticClass:\"d-flex justify-content-between align-items-baseline\"},[_c('a',{staticClass:\"text-primary\",attrs:{\"title\":\"加入最愛\"},on:{\"click\":function($event){$event.preventDefault();return _vm.addMyFavorite(item.id)}}},[_c('i',{staticClass:\"far fa-heart fa-lg\",class:{'fas fa-heart fa-lg':item.isLike}})]),_c('a',{staticClass:\"text-primary\",attrs:{\"title\":\"加入購物車\"},on:{\"click\":function($event){$event.preventDefault();return _vm.addtoCart(item.id)}}},[_c('i',{staticClass:\"fas fa-cart-plus fa-2x\"})])])])],1)])}),0)])])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <loading :active.sync=\"isLoading\"></loading>\n    <div class=\"container my-5\">\n      <div class=\"row\">\n        <div class=\"col-md-3\">\n          <div class=\"input-group mb-3\">\n            <input\n              type=\"text\"\n              class=\"form-control btn-round\"\n              @keyup.enter=\"searchProducts\"\n              v-model.trim=\"keyPoint\"\n              placeholder=\"搜尋商品\"\n            />\n            <div class=\"input-group-append\">\n              <button class=\"btn btn-primary btn-round\" @click=\"searchProducts\">\n                <i class=\"fas fa-search\"></i>\n              </button>\n            </div>\n          </div>\n          <ul class=\"ul-category\">\n            <li>\n              <a\n                class=\"h5\"\n                :class=\"{'active':category==='All'}\"\n                @click.prevent=\"changeCategory('All')\"\n              >全部商品</a>\n            </li>\n            <li v-for=\"(item, index) in filterCategory\" :key=\"index\">\n              <a\n                class=\"h5\"\n                :class=\"{'active':category===item}\"\n                @click.prevent=\"changeCategory(item)\"\n              >{{ item }}</a>\n            </li>\n          </ul>\n        </div>\n        <div class=\"col-md-9 mt-4 mt-md-0\">\n          <div v-if=\"products.length\">\n            <div class=\"text-center h2\" v-if=\"filterProducts.length===0\">目前無此商品</div>\n          </div>\n          <div class=\"row\">\n            <div\n              class=\"col-md-6 col-lg-4 mb-4\"\n              data-aos=\"fade-up\"\n              v-for=\"(item) in filterProducts\"\n              :key=\"item.id\"\n            >\n              <div class=\"card shadow-sm card-round\">\n                <router-link :to=\"{path : `/product/${item.id}` }\" class=\"pic\">\n                  <div :style=\"{backgroundImage :`url(${item.image})`}\" class=\"pic-enlarge\"></div>\n                </router-link>\n                <router-link :to=\"{path : `/product/${item.id}` }\" class=\"card-body text-decoration-none\">\n                  <h5 class=\"card-title text-dark\">{{ item.title }}</h5>\n                  <div class=\"d-flex justify-content-between align-items-baseline\">\n                    <div\n                      class=\"h4 text-dark\"\n                      v-if=\"item.price===item.origin_price\"\n                    >{{ item.origin_price | currency }}</div>\n                    <del\n                      class=\"h6 text-secondary\"\n                      v-if=\"item.price!=item.origin_price\"\n                    >{{ item.origin_price | currency }}</del>\n                    <div\n                      class=\"h4 text-danger\"\n                      v-if=\"item.price!=item.origin_price\"\n                    >{{ item.price | currency }}</div>\n                  </div>\n                  <div class=\"d-flex justify-content-between align-items-baseline\">\n                    <a class=\"text-primary\" @click.prevent=\"addMyFavorite(item.id)\" title=\"加入最愛\">\n                      <i class=\"far fa-heart fa-lg\" :class=\"{'fas fa-heart fa-lg':item.isLike}\"></i>\n                    </a>\n                    <a class=\"text-primary\" @click.prevent=\"addtoCart(item.id)\" title=\"加入購物車\">\n                      <i class=\"fas fa-cart-plus fa-2x\"></i>\n                    </a>\n                  </div>\n                </router-link>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nexport default {\n  data () {\n    return {\n      category: 'All',\n      categoryItem: [],\n      keyPoint: '',\n      search: false\n    }\n  },\n  methods: {\n    getProducts () {\n      this.$store.dispatch('getProducts')\n    },\n    getCart () {\n      this.$store.dispatch('getCart')\n    },\n    addtoCart (id, qty = 1) {\n      this.$store.dispatch('addToCart', { id: id, qty: qty })\n    },\n    addMyFavorite (id) {\n      this.$store.dispatch('addMyFavorite', id)\n    },\n    changeCategory (item) {\n      const vm = this\n      vm.keyPoint = ''\n      vm.category = item\n      console.log(vm)\n    },\n    searchProducts () {\n      const vm = this\n      vm.search = true\n    }\n  },\n  computed: {\n    filterProducts () {\n      const vm = this\n      if (vm.search) {\n        vm.search = false\n        return vm.products.filter(function (item) {\n          return item.title.match(vm.keyPoint)\n        })\n      } else if (vm.category === 'All') {\n        return vm.products\n      } else if (vm.category !== 'All') {\n        return vm.products.filter(function (item) {\n          return item.category === vm.category\n        })\n      } else {\n        return vm.products\n      }\n    },\n    filterCategory () {\n      const vm = this\n      vm.products.forEach(item => {\n        vm.categoryItem.push(item.category)\n      })\n      return vm.categoryItem.filter(function (item, index, arr) {\n        return arr.indexOf(item) === index\n      })\n    },\n    isLoading () {\n      return this.$store.state.isLoading\n    },\n    products () {\n      return this.$store.state.products\n    },\n    myFavorite () {\n      return this.$store.state.myFavorite\n    }\n  },\n  created () {\n    const vm = this\n    vm.getProducts()\n    vm.getCart()\n    vm.$bus.$on('goAllProducts', category => {\n      vm.category = category\n    })\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Products.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Products.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Products.vue?vue&type=template&id=2ef94438&\"\nimport script from \"./Products.vue?vue&type=script&lang=js&\"\nexport * from \"./Products.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}